# 快速测试指南 - XML加载功能

## 🚀 快速开始

### 方式1：测试Python提取功能（推荐先测试）

```bash
# 进入项目目录
cd C:\Users\kevin\Desktop\dky

# 运行Python测试脚本
python test_xml_extraction.py
```

**预期输出**：
```
正在从文件中提取红方无人机位置: 想定示例-无中心模式空战博弈（10机+4机2艇）.xml

====================================================================================================
编号         名称                   型号                   经度              纬度              高度(m)     
====================================================================================================
9001       半实物无人机1              空工大无人机_V             115.706000      39.532000       205.00    
...（共10架）
====================================================================================================

总计提取: 10 架红方无人机
```

### 方式2：编译并运行Qt界面程序

#### 步骤1：打开Qt Creator
```bash
# 打开项目文件
jiemian1.pro
```

#### 步骤2：构建项目
1. 点击 Qt Creator 左下角的"锤子"图标（构建）
2. 或按快捷键 `Ctrl+B`

#### 步骤3：运行程序
1. 点击"运行"按钮（绿色三角形）
2. 或按快捷键 `Ctrl+R`

#### 步骤4：测试功能
1. 在主界面找到"在线调试"按钮
2. 点击按钮
3. 在弹出的文件选择对话框中，选择：
   ```
   想定示例-无中心模式空战博弈（10机+4机2艇）.xml
   ```
4. 确认选择
5. 查看红方表格是否加载了10架无人机
6. 查看日志面板的输出信息

## ✅ 验证清单

### Python测试
- [x] `test_xml_extraction.py` 成功运行
- [x] 正确提取了10架红方无人机
- [x] 位置数据格式正确（经度、纬度、高度）

### C++界面测试
- [ ] 程序成功编译（无错误）
- [ ] 点击"在线调试"按钮
- [ ] 文件选择对话框正常弹出
- [ ] 选择XML文件后无报错
- [ ] 红方表格显示10条记录
- [ ] 每条记录包含：ID、类型、经度、纬度、高度
- [ ] 日志显示"成功从想定文件加载10架红方无人机"
- [ ] `online_debug.py` 脚本成功启动

## 🐛 可能遇到的问题

### 问题1：XML文件路径不对
**解决方案**：确保XML文件与程序在同一目录，或使用绝对路径

### 问题2：中文乱码
**解决方案**：Qt项目已配置UTF-8编码，如仍有问题，检查文件编码

### 问题3：Python脚本无法启动
**解决方案**：
```bash
# 检查Python环境
python --version

# 确保online_debug.py存在
dir online_debug.py
```

### 问题4：编译错误
**解决方案**：
- 确保Qt环境配置正确
- 检查是否包含所有必要的头文件
- 清理并重新构建项目

## 📊 预期结果

### 红方表格数据示例

| ID | 类型 | 经度 | 纬度 | 高度 | 速度 | 航向 | 状态 |
|----|------|------|------|------|------|------|------|
| 1 | 半实物无人机1 | 115.706 | 39.532 | 205 | 200 | 0 | 待命 |
| 2 | 半实物无人机2 | 115.706 | 39.542 | 200 | 200 | 0 | 待命 |
| 3 | 半实物无人机3 | 115.710 | 39.532 | 195 | 200 | 0 | 待命 |
| ... | ... | ... | ... | ... | ... | ... | ... |

## 📝 日志输出示例

```
[13:45:23] [信息] 启动在线调试功能...
[13:45:25] [信息] 选择了想定文件: C:/Users/kevin/Desktop/dky/想定示例-无中心模式空战博弈（10机+4机2艇）.xml
[13:45:25] [信息] 开始解析红方数据
[13:45:25] [信息] 开始解析空中实体
[13:45:25] [调试] 解析实体: ID=9002, 名称=半实物无人机2, 位置=(115.706000, 39.542000, 200.00)
[13:45:25] [调试] 解析实体: ID=9003, 名称=半实物无人机3, 位置=(115.710000, 39.532100, 195.00)
...
[13:45:25] [成功] 成功解析10架红方无人机
[13:45:25] [成功] 成功从想定文件加载10架红方无人机
[13:45:26] [信息] Python调试脚本启动成功
```

## 🎯 下一步

测试成功后，您可以：
1. 使用其他想定XML文件测试
2. 修改XML文件中的位置数据进行验证
3. 将功能集成到实际工作流程中
4. 根据需要扩展功能（如加载蓝方态势）

---

**提示**: 如遇到任何问题，请查看程序的日志输出，通常会有详细的错误信息。

